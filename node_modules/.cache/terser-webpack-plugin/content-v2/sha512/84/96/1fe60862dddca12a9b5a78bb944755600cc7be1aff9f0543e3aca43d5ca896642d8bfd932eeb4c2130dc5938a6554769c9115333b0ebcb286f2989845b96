{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{GnBF:function(l,n,u){\"use strict\";u.r(n);var o=u(\"CcnG\"),e=u(\"ZZ/e\"),t=u(\"gIcY\"),i=u(\"Qe3P\"),b=function(){function l(l,n,u,o,e,t){this.route=l,this.placesService=n,this.navCtrl=u,this.router=o,this.loadingCtrl=e,this.alertCtrl=t,this.isLoading=!1}return l.prototype.ngOnInit=function(){var l=this;this.route.paramMap.subscribe(function(n){n.has(\"placeId\")?(l.placeId=n.get(\"placeId\"),l.isLoading=!0,l.placeSub=l.placesService.getPlace(n.get(\"placeId\")).subscribe(function(n){l.place=n,l.form=new t.f({title:new t.d(l.place.title,{updateOn:\"blur\",validators:[t.s.required]}),description:new t.d(l.place.description,{updateOn:\"blur\",validators:[t.s.required,t.s.maxLength(180)]}),price:new t.d(l.place.price,{updateOn:\"blur\",validators:[t.s.required]})}),l.isLoading=!1},function(n){l.alertCtrl.create({header:\"Gre\\u0161ka!\",message:\"Smje\\u0161taj ne mo\\u017ee biti u\\u010ditan, poku\\u0161ajte ponovno\",buttons:[{text:\"U redu\",handler:function(){l.router.navigate([\"/places/tabs/offers\"])}}]}).then(function(l){l.present()})})):l.navCtrl.navigateBack(\"/places/tabs/offers\")})},l.prototype.onUpdateOffer=function(){var l=this;this.form.valid&&this.loadingCtrl.create({message:\"A\\u017euriranje smje\\u0161taja\"}).then(function(n){n.present(),l.placesService.updatePlace(l.place.id,l.form.value.title,l.form.value.description,l.form.value.price).subscribe(function(){n.dismiss(),l.form.reset(),l.router.navigate([\"/places/tabs/offers\"])})})},l.prototype.onDeleteOffer=function(l){var n=this;this.loadingCtrl.create({message:\"Otkazivanje...\"}).then(function(u){u.present(),console.log(l),n.placesService.deletePlace(l).subscribe(function(){u.dismiss(),n.router.navigateByUrl(\"/places/tabs/offers\")})})},l.prototype.ngOnDestroy=function(){this.placeSub&&this.placeSub.unsubscribe()},l}(),a=function(){return function(){}}(),r=u(\"pMnS\"),s=u(\"oBZk\"),c=u(\"Ip0R\"),p=u(\"ZYCi\"),d=o.nb({encapsulation:0,styles:[[\"\"]],data:{}});function g(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,2,\"div\",[[\"text-center\",\"\"]],null,null,null,null,null)),(l()(),o.pb(1,0,null,null,1,\"ion-spinner\",[[\"color\",\"primary\"]],null,null,null,s.yb,s.H)),o.ob(2,49152,null,0,e.rb,[o.h,o.k,o.z],{color:[0,\"color\"]},null)],function(l,n){l(n,2,0,\"primary\")},null)}function f(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,5,\"ion-row\",[],null,null,null,s.tb,s.C)),o.ob(1,49152,null,0,e.ib,[o.h,o.k,o.z],null,null),(l()(),o.pb(2,0,null,0,3,\"ion-col\",[[\"offset-sm\",\"3\"],[\"size-sm\",\"6\"]],null,null,null,s.bb,s.k)),o.ob(3,49152,null,0,e.t,[o.h,o.k,o.z],null,null),(l()(),o.pb(4,0,null,0,1,\"p\",[],null,null,null,null,null)),(l()(),o.Fb(-1,null,[\"Kratki opis mora biti izme\\u0111u 1 i 180 znakova.\"]))],null,null)}function h(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,65,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"submit\"],[null,\"reset\"]],function(l,n,u){var e=!0;return\"submit\"===n&&(e=!1!==o.yb(l,2).onSubmit(u)&&e),\"reset\"===n&&(e=!1!==o.yb(l,2).onReset()&&e),e},null,null)),o.ob(1,16384,null,0,t.u,[],null,null),o.ob(2,540672,null,0,t.g,[[8,null],[8,null]],{form:[0,\"form\"]},null),o.Cb(2048,null,t.a,null,[t.g]),o.ob(4,16384,null,0,t.n,[[4,t.a]],null,null),(l()(),o.pb(5,0,null,null,60,\"ion-grid\",[],null,null,null,s.fb,s.o)),o.ob(6,49152,null,0,e.A,[o.h,o.k,o.z],null,null),(l()(),o.pb(7,0,null,0,15,\"ion-row\",[],null,null,null,s.tb,s.C)),o.ob(8,49152,null,0,e.ib,[o.h,o.k,o.z],null,null),(l()(),o.pb(9,0,null,0,13,\"ion-col\",[[\"offset-sm\",\"3\"],[\"size-sm\",\"6\"]],null,null,null,s.bb,s.k)),o.ob(10,49152,null,0,e.t,[o.h,o.k,o.z],null,null),(l()(),o.pb(11,0,null,0,11,\"ion-item\",[],null,null,null,s.nb,s.t)),o.ob(12,49152,null,0,e.H,[o.h,o.k,o.z],null,null),(l()(),o.pb(13,0,null,0,2,\"ion-label\",[[\"position\",\"floating\"]],null,null,null,s.ob,s.x)),o.ob(14,49152,null,0,e.N,[o.h,o.k,o.z],{position:[0,\"position\"]},null),(l()(),o.Fb(-1,0,[\"Naslov\"])),(l()(),o.pb(16,0,null,0,6,\"ion-input\",[[\"autocomplete\",\"\"],[\"autocorrect\",\"\"],[\"formControlName\",\"title\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionBlur\"],[null,\"ionChange\"]],function(l,n,u){var e=!0;return\"ionBlur\"===n&&(e=!1!==o.yb(l,17)._handleBlurEvent()&&e),\"ionChange\"===n&&(e=!1!==o.yb(l,17)._handleInputEvent(u.target.value)&&e),e},s.jb,s.s)),o.ob(17,16384,null,0,e.Ob,[o.k],null,null),o.Cb(1024,null,t.k,function(l){return[l]},[e.Ob]),o.ob(19,671744,null,0,t.e,[[3,t.a],[8,null],[8,null],[6,t.k],[2,t.w]],{name:[0,\"name\"]},null),o.Cb(2048,null,t.l,null,[t.e]),o.ob(21,16384,null,0,t.m,[[4,t.l]],null,null),o.ob(22,49152,null,0,e.G,[o.h,o.k,o.z],{autocomplete:[0,\"autocomplete\"],autocorrect:[1,\"autocorrect\"],type:[2,\"type\"]},null),(l()(),o.pb(23,0,null,0,15,\"ion-row\",[],null,null,null,s.tb,s.C)),o.ob(24,49152,null,0,e.ib,[o.h,o.k,o.z],null,null),(l()(),o.pb(25,0,null,0,13,\"ion-col\",[[\"offset-sm\",\"3\"],[\"size-sm\",\"6\"]],null,null,null,s.bb,s.k)),o.ob(26,49152,null,0,e.t,[o.h,o.k,o.z],null,null),(l()(),o.pb(27,0,null,0,11,\"ion-item\",[],null,null,null,s.nb,s.t)),o.ob(28,49152,null,0,e.H,[o.h,o.k,o.z],null,null),(l()(),o.pb(29,0,null,0,2,\"ion-label\",[[\"position\",\"floating\"]],null,null,null,s.ob,s.x)),o.ob(30,49152,null,0,e.N,[o.h,o.k,o.z],{position:[0,\"position\"]},null),(l()(),o.Fb(-1,0,[\"Kratki opis\"])),(l()(),o.pb(32,0,null,0,6,\"ion-textarea\",[[\"formControlName\",\"description\"],[\"rows\",\"3\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionBlur\"],[null,\"ionChange\"]],function(l,n,u){var e=!0;return\"ionBlur\"===n&&(e=!1!==o.yb(l,33)._handleBlurEvent()&&e),\"ionChange\"===n&&(e=!1!==o.yb(l,33)._handleInputEvent(u.target.value)&&e),e},s.Db,s.M)),o.ob(33,16384,null,0,e.Ob,[o.k],null,null),o.Cb(1024,null,t.k,function(l){return[l]},[e.Ob]),o.ob(35,671744,null,0,t.e,[[3,t.a],[8,null],[8,null],[6,t.k],[2,t.w]],{name:[0,\"name\"]},null),o.Cb(2048,null,t.l,null,[t.e]),o.ob(37,16384,null,0,t.m,[[4,t.l]],null,null),o.ob(38,49152,null,0,e.xb,[o.h,o.k,o.z],{rows:[0,\"rows\"]},null),(l()(),o.gb(16777216,null,0,1,null,f)),o.ob(40,16384,null,0,c.k,[o.O,o.L],{ngIf:[0,\"ngIf\"]},null),(l()(),o.pb(41,0,null,0,15,\"ion-row\",[],null,null,null,s.tb,s.C)),o.ob(42,49152,null,0,e.ib,[o.h,o.k,o.z],null,null),(l()(),o.pb(43,0,null,0,13,\"ion-col\",[[\"offset-sm\",\"3\"],[\"size-sm\",\"6\"]],null,null,null,s.bb,s.k)),o.ob(44,49152,null,0,e.t,[o.h,o.k,o.z],null,null),(l()(),o.pb(45,0,null,0,11,\"ion-item\",[],null,null,null,s.nb,s.t)),o.ob(46,49152,null,0,e.H,[o.h,o.k,o.z],null,null),(l()(),o.pb(47,0,null,0,2,\"ion-label\",[[\"position\",\"floating\"]],null,null,null,s.ob,s.x)),o.ob(48,49152,null,0,e.N,[o.h,o.k,o.z],{position:[0,\"position\"]},null),(l()(),o.Fb(-1,0,[\"Cijena\"])),(l()(),o.pb(50,0,null,0,6,\"ion-input\",[[\"autocomplete\",\"\"],[\"autocorrect\",\"\"],[\"formControlName\",\"price\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionBlur\"],[null,\"ionChange\"]],function(l,n,u){var e=!0;return\"ionBlur\"===n&&(e=!1!==o.yb(l,51)._handleBlurEvent()&&e),\"ionChange\"===n&&(e=!1!==o.yb(l,51)._handleInputEvent(u.target.value)&&e),e},s.jb,s.s)),o.ob(51,16384,null,0,e.Ob,[o.k],null,null),o.Cb(1024,null,t.k,function(l){return[l]},[e.Ob]),o.ob(53,671744,null,0,t.e,[[3,t.a],[8,null],[8,null],[6,t.k],[2,t.w]],{name:[0,\"name\"]},null),o.Cb(2048,null,t.l,null,[t.e]),o.ob(55,16384,null,0,t.m,[[4,t.l]],null,null),o.ob(56,49152,null,0,e.G,[o.h,o.k,o.z],{autocomplete:[0,\"autocomplete\"],autocorrect:[1,\"autocorrect\"],type:[2,\"type\"]},null),(l()(),o.pb(57,0,null,0,8,\"ion-row\",[],null,null,null,s.tb,s.C)),o.ob(58,49152,null,0,e.ib,[o.h,o.k,o.z],null,null),(l()(),o.pb(59,0,null,0,6,\"ion-col\",[[\"offset-md\",\"3\"],[\"size-md\",\"6\"]],null,null,null,s.bb,s.k)),o.ob(60,49152,null,0,e.t,[o.h,o.k,o.z],null,null),(l()(),o.pb(61,0,null,0,4,\"ion-button\",[[\"color\",\"danger\"],[\"expand\",\"block\"]],null,[[null,\"click\"]],function(l,n,u){var o=!0,e=l.component;return\"click\"===n&&(o=!1!==e.onDeleteOffer(e.place.id)&&o),o},s.T,s.c)),o.ob(62,49152,null,0,e.k,[o.h,o.k,o.z],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(l()(),o.Fb(-1,0,[\" Obrisi ponudu \"])),(l()(),o.pb(64,0,null,0,1,\"ion-icon\",[[\"name\",\"trash\"],[\"slot\",\"icon-only\"]],null,null,null,s.hb,s.q)),o.ob(65,49152,null,0,e.C,[o.h,o.k,o.z],{name:[0,\"name\"]},null)],function(l,n){var u=n.component;l(n,2,0,u.form),l(n,14,0,\"floating\"),l(n,19,0,\"title\"),l(n,22,0,\"\",\"\",\"text\"),l(n,30,0,\"floating\"),l(n,35,0,\"description\"),l(n,38,0,\"3\"),l(n,40,0,!u.form.get(\"description\").valid&&u.form.get(\"description\").touched),l(n,48,0,\"floating\"),l(n,53,0,\"price\"),l(n,56,0,\"\",\"\",\"text\"),l(n,62,0,\"danger\",\"block\"),l(n,65,0,\"trash\")},function(l,n){l(n,0,0,o.yb(n,4).ngClassUntouched,o.yb(n,4).ngClassTouched,o.yb(n,4).ngClassPristine,o.yb(n,4).ngClassDirty,o.yb(n,4).ngClassValid,o.yb(n,4).ngClassInvalid,o.yb(n,4).ngClassPending),l(n,16,0,o.yb(n,21).ngClassUntouched,o.yb(n,21).ngClassTouched,o.yb(n,21).ngClassPristine,o.yb(n,21).ngClassDirty,o.yb(n,21).ngClassValid,o.yb(n,21).ngClassInvalid,o.yb(n,21).ngClassPending),l(n,32,0,o.yb(n,37).ngClassUntouched,o.yb(n,37).ngClassTouched,o.yb(n,37).ngClassPristine,o.yb(n,37).ngClassDirty,o.yb(n,37).ngClassValid,o.yb(n,37).ngClassInvalid,o.yb(n,37).ngClassPending),l(n,50,0,o.yb(n,55).ngClassUntouched,o.yb(n,55).ngClassTouched,o.yb(n,55).ngClassPristine,o.yb(n,55).ngClassDirty,o.yb(n,55).ngClassValid,o.yb(n,55).ngClassInvalid,o.yb(n,55).ngClassPending)})}function m(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,17,\"ion-header\",[],null,null,null,s.gb,s.p)),o.ob(1,49152,null,0,e.B,[o.h,o.k,o.z],null,null),(l()(),o.pb(2,0,null,0,15,\"ion-toolbar\",[],null,null,null,s.Gb,s.P)),o.ob(3,49152,null,0,e.Bb,[o.h,o.k,o.z],null,null),(l()(),o.pb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,s.U,s.d)),o.ob(5,49152,null,0,e.l,[o.h,o.k,o.z],null,null),(l()(),o.pb(6,0,null,0,2,\"ion-back-button\",[],null,[[null,\"click\"]],function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==o.yb(l,8).onClick(u)&&e),e},s.S,s.b)),o.ob(7,49152,null,0,e.g,[o.h,o.k,o.z],{defaultHref:[0,\"defaultHref\"]},null),o.ob(8,16384,null,0,e.h,[[2,e.hb],e.Ib],{defaultHref:[0,\"defaultHref\"]},null),(l()(),o.pb(9,0,null,0,2,\"ion-title\",[],null,null,null,s.Fb,s.O)),o.ob(10,49152,null,0,e.zb,[o.h,o.k,o.z],null,null),(l()(),o.Fb(-1,0,[\"Ure\\u0111ivanje smje\\u0161taja\"])),(l()(),o.pb(12,0,null,0,5,\"ion-buttons\",[[\"slot\",\"primary\"]],null,null,null,s.U,s.d)),o.ob(13,49152,null,0,e.l,[o.h,o.k,o.z],null,null),(l()(),o.pb(14,0,null,0,3,\"ion-button\",[],null,[[null,\"click\"]],function(l,n,u){var o=!0;return\"click\"===n&&(o=!1!==l.component.onUpdateOffer()&&o),o},s.T,s.c)),o.ob(15,49152,null,0,e.k,[o.h,o.k,o.z],{disabled:[0,\"disabled\"]},null),(l()(),o.pb(16,0,null,0,1,\"ion-icon\",[[\"name\",\"checkmark\"],[\"slot\",\"icon-only\"]],null,null,null,s.hb,s.q)),o.ob(17,49152,null,0,e.C,[o.h,o.k,o.z],{name:[0,\"name\"]},null),(l()(),o.pb(18,0,null,null,5,\"ion-content\",[[\"padding\",\"\"]],null,null,null,s.cb,s.l)),o.ob(19,49152,null,0,e.u,[o.h,o.k,o.z],null,null),(l()(),o.gb(16777216,null,0,1,null,g)),o.ob(21,16384,null,0,c.k,[o.O,o.L],{ngIf:[0,\"ngIf\"]},null),(l()(),o.gb(16777216,null,0,1,null,h)),o.ob(23,16384,null,0,c.k,[o.O,o.L],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var u=n.component;l(n,7,0,\"/places/tabs/offers\"),l(n,8,0,\"/places/tabs/offers\"),l(n,15,0,!(null!=u.form&&u.form.valid)),l(n,17,0,\"checkmark\"),l(n,21,0,u.isLoading),l(n,23,0,!u.isLoading)},null)}function k(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,1,\"app-edit-offer\",[],null,null,null,m,d)),o.ob(1,245760,null,0,b,[p.a,i.a,e.Ib,p.m,e.Fb,e.b],null,null)],function(l,n){l(n,1,0)},null)}var v=o.lb(\"app-edit-offer\",b,k,{},{},[]);u.d(n,\"EditOfferPageModuleNgFactory\",function(){return y});var y=o.mb(a,[],function(l){return o.vb([o.wb(512,o.j,o.bb,[[8,[r.a,v]],[3,o.j],o.x]),o.wb(4608,c.m,c.l,[o.u,[2,c.s]]),o.wb(4608,t.c,t.c,[]),o.wb(4608,t.v,t.v,[]),o.wb(4608,e.c,e.c,[o.z,o.g]),o.wb(4608,e.Hb,e.Hb,[e.c,o.j,o.q]),o.wb(4608,e.Lb,e.Lb,[e.c,o.j,o.q]),o.wb(1073742336,c.b,c.b,[]),o.wb(1073742336,t.t,t.t,[]),o.wb(1073742336,t.q,t.q,[]),o.wb(1073742336,e.Db,e.Db,[]),o.wb(1073742336,p.o,p.o,[[2,p.u],[2,p.m]]),o.wb(1073742336,a,a,[]),o.wb(1024,p.k,function(){return[[{path:\"\",component:b}]]},[])])})}}]);","extractedComments":[]}